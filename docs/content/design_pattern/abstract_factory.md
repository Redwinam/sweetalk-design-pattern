# 抽象工厂模式

抽象工厂模式提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们的具体类。它是一般化的工厂方法，可以看做一组工厂方法的集合。

**设计动机**

当有多个产品或相关产品系列时，通过组合的方式将创建对象的任务委托给其他类，可以保证多个或系列产品的一致性。也使得交换产品系列更加方便，一个具体工厂只在初始化时出现一次，只需修改这里就可以使用不同的产品配置。

**使用场景**

- 需要使用大量工厂方法生产系列产品时。
- 需要独立于产品的创建、组合和表示时。
- 需要将产品类库的接口和实现分离时。

实际中的例子：极少扩展的产品系列。

- 数据库。
- 标准用户界面工具包。
- 汽车部件。
- 游戏环境。

**不足之处**

- 难以支持新种类的产品，因为扩展新类需要扩展工厂接口，涉及到所有子类的改变。

**实现方式**

- 可以借助反射使用变量来初始化不同产品，以减少显式、固定地分支判断。
- 可以根据需要与简单工厂、工厂方法结合起来使用。
- 一般不在开发初期使用，通常从简单工厂或工厂方法开始。

![](img/abstract_factory.jpeg)