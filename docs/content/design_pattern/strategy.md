# 策略模式

## 1 问题引入

### 1.1 问题描述

&emsp;&emsp;大鸟给小菜出了个作业，要求用C++、Java、python、C#任意一种面向对象语言实现一个商场收银软件程序，营业员可以通过输入客户所有购买商品的单价和数量，程序自动计算出总金额。

&emsp;&emsp;进一步地，商场有时会有打折活动（如商品打7折），或满减促销活动（如商品满300-100），程序应能考虑这些活动的情形，实现正确的金额计算。

### 1.2 问题分析

&emsp;&emsp;实现该目标的程序需满足：商场促销活动变化繁多，如打7折，打8折，满300-100，满700-200等，这些促销活动逻辑类似，而且随时可以相互替换，应设计合理的程序结构，使得程序封装合理。

### 1.3 解决方案

&emsp;&emsp;此时可以考虑使用`策略模式`来解决问题。
1. 首先创建抽象的算法类`CashSupur`，作为所有促销活动算法的抽象类，同时定义所有支持算法的公共接口，定义方法`acceptCash()`用于得到结果；
2. 创建具体的促销算法类`CashNormal`，`CashRebate`等，继承于抽象算法类`CashSupur`，覆写`acceptCash()`实现具体的促销算法；
3. 创建上下文类`CashContext`，维护对算法对象的引用，使用时根据用户输入，传入一个具体的促销算法类来配置。

### 1.4 代码实现

* C++语言实现：[链接]("/../../../../src/design_patterns/cpp/strategy/")
* Java语言实现：[链接]("/../../../../src/design_patterns/java/strategy/")
* python语言实现：[链接]("/../../../../src/design_patterns/python/strategy/Strategy.py")
* C#语言实现见原书第二版。

## 2 模式介绍

### 2.1 定义

&emsp;&emsp;策略模式（Strategy Pattern）是指定义一个算法家族，使得家族内的不同算法都遵从算法家族的接口及方法规范，从而可以实现算法间互相替换。

### 2.2 结构


## 3 适用场景

&emsp;&emsp;一个系统中有多个算法和类很相似，区分这些类和算法的只是其内部行为。

## 4 评价

### 4.1 优点

### 4.2 缺点
