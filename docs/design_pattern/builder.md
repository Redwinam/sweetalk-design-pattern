# å»ºé€ è€…æ¨¡å¼

<AppTabs>

<AppTab label="ğŸ“– åŸæ–‡">


## æ¨¡å¼å¼•å…¥

### é—®é¢˜æè¿°

è®¾æƒ³æˆ‘ä»¬è¦ç”¨ç¨‹åºç”»ä¸€ä¸ªå°äººï¼Œè¦æ±‚å°äººæœ‰å¤´ã€èº«ä½“ã€ä¸¤æ‰‹å’Œä¸¤è„šã€‚æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ç”¨ç”»ç¬”ï¼ŒæŒ‡å®šå°äººçš„åæ ‡ã€‚å¦‚æœå¢åŠ éœ€æ±‚ï¼Œç”»ä¸€ä¸ªèº«ä½“æ¯”è¾ƒèƒ–çš„å°äººï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°è°ƒæ•´åæ ‡å®ç°ã€‚ä¸Šé¢è¿™ç§ç®€å•çš„ç”»æ³•ï¼Œå¾ˆå®¹æ˜“ç¼ºèƒ³è†Šå°‘è…¿ã€‚

æˆ‘ä»¬ä»”ç»†æ€è€ƒä¸€ä¸‹ï¼Œå¯ä»¥å‘ç°ï¼šå»ºé€ å°äººçš„**è¿‡ç¨‹æ˜¯ç¨³å®š**çš„ï¼ˆéƒ½éœ€è¦å¤´èº«æ‰‹è„šï¼‰ï¼Œè€Œå…·ä½“å»ºé€ çš„**ç»†èŠ‚æ˜¯ä¸åŒ**çš„ï¼Œæœ‰é«˜çŸ®èƒ–ç˜¦ã€‚

### æ¨¡å¼å®šä¹‰

å½“æˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç°åˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºæ—¶ï¼Œå°±å¯ä»¥ç”¨åˆ°`å»ºé€ è€…æ¨¡å¼(Builder)`ã€‚

å»ºé€ è€…æ¨¡å¼åˆå«ç”Ÿæˆå™¨æ¨¡å¼ï¼Œå±äºåˆ›å»ºå‹æ¨¡å¼ã€‚å½“æˆ‘ä»¬ä½¿ç”¨å»ºé€ è€…æ¨¡å¼æ—¶ï¼Œç”¨æˆ·åªéœ€æŒ‡å®šéœ€è¦å»ºé€ çš„ç±»å‹å³å¯å¾—åˆ°å®ƒä»¬ï¼Œè€Œæ— éœ€çŸ¥é“å…·ä½“å»ºé€ çš„è¿‡ç¨‹å’Œç»†èŠ‚ã€‚

- å»ºé€ è€…ï¼šåˆ›å»ºå’Œæä¾›å®ä¾‹ï¼›
- å¯¼æ¼”ï¼šç®¡ç†å»ºé€ å‡ºæ¥çš„å®ä¾‹é—´çš„ä¾èµ–å…³ç³»ã€‚

> ä¸å·¥å‚æ¨¡å¼çš„åŒºåˆ«ï¼šå»ºé€ è€…æ¨¡å¼æ›´å…³æ³¨ä¸é›¶ä»¶è£…é…çš„é¡ºåº

### é—®é¢˜åˆ†æ

- æ„é€ å°äººçš„è¿‡ç¨‹æ˜¯ç¨³å®šçš„ï¼Œéƒ½éœ€è¦å¤´èº«æ‰‹è„šï¼›

- å…·ä½“å»ºé€ çš„"ç»†èŠ‚"ä¸åŒï¼Œæœ‰é«˜çŸ®èƒ–ç˜¦ã€‚

## æ¨¡å¼ä»‹ç»

### è§£å†³æ–¹æ¡ˆ

1. å…ˆå®šä¹‰ä¸€ä¸ªæŠ½è±¡çš„**å»ºé€ äºº**çš„ç±»ï¼ŒæŠŠè¿™ä¸ªè¿‡ç¨‹ç¨³å®šä½ï¼Œé‡Œé¢æœ‰æ„å»ºå¤´èº«æ‰‹è„šçš„æŠ½è±¡æ–¹æ³•ï¼›
2. ç„¶åå»ºé€ å…·ä½“çš„å°äººï¼Œå»ç»§æ‰¿ä¸Šé¢çš„æŠ½è±¡ç±»ï¼›
3. åˆ›å»ºä¸€ä¸ª**æŒ‡æŒ¥è€…**ï¼Œç”¨å®ƒæ¥æ§åˆ¶æ„å»ºè¿‡ç¨‹ï¼Œéš”ç¦»ç”¨æˆ·ä¸æ„é€ è¿‡ç¨‹çš„å…³è”ã€‚

ä¸‹é¢æ˜¯ä¸€äº›æ³¨æ„äº‹é¡¹ï¼š

- ç»§æ‰¿æŠ½è±¡ç±»æ—¶ï¼Œè®°å¾—é‡å†™æŠ½è±¡æ–¹æ³•

### ä»£ç å®ç°

`å»ºé€ è€…` æŠ½è±¡ç±»ï¼š

```java
import java.awt.*;

public abstract class å»ºé€ è€… {
    protected Graphics2D g;
    protected ç”»ç¬” p;

    public å»ºé€ è€…(Graphics2D g, ç”»ç¬” p) {
        g.setStroke(new BasicStroke(p.getLineå®½åº¦()));
        g.setColor(p.geté¢œè‰²());
        this.g = g;
        this.p = p;
    }

    public abstract void å»ºé€ å¤´();
    public abstract void å»ºé€ èº«ä½“();
    public abstract void å»ºé€ å·¦æ‰‹();
    public abstract void å»ºé€ å³æ‰‹();
    public abstract void å»ºé€ å·¦è…¿();
    public abstract void å»ºé€ å³è…¿();
}
```

`èƒ–äººå»ºé€ è€…` å…·ä½“ç±»ï¼š

```java
import java.awt.*;

public class èƒ–äººå»ºé€ è€… extends å»ºé€ è€… {
    public èƒ–äººå»ºé€ è€…(Graphics2D g, ç”»ç¬” p) {
        super(g, p);
    }

    @Override
    public void å»ºé€ å¤´() {
        g.drawOval(200, 70, 30, 30);
    }

    @Override
    public void å»ºé€ èº«ä½“() {
        g.drawRect(185, 100, 60, 30);
    }

    @Override
    public void å»ºé€ å·¦æ‰‹() {
        g.drawLine(205, 100, 175, 110);
    }

    @Override
    public void å»ºé€ å³æ‰‹() {
        g.drawLine(225, 100, 250, 110);
    }

    @Override
    public void å»ºé€ å·¦è…¿() {
        g.drawLine(205, 130, 175, 150);
    }

    @Override
    public void å»ºé€ å³è…¿() {
        g.drawLine(225, 130, 250, 150);
    }
}
```

`ç˜¦äººå»ºé€ è€…` å…·ä½“ç±»ï¼š

```java
import java.awt.*;

public class ç˜¦äººå»ºé€ è€… extends å»ºé€ è€… {
    public ç˜¦äººå»ºé€ è€…(Graphics2D g, ç”»ç¬” p) {
        super(g, p);
    }

    @Override
    public void å»ºé€ å¤´() {
        g.drawOval(50, 20, 30, 30);
    }

    @Override
    public void å»ºé€ èº«ä½“() {
        g.drawRect(60, 50, 10, 50);
    }

    @Override
    public void å»ºé€ å·¦æ‰‹() {
        g.drawLine(60, 50, 40, 100);
    }

    @Override
    public void å»ºé€ å³æ‰‹() {
        g.drawLine(70, 50, 90, 100);
    }

    @Override
    public void å»ºé€ å·¦è…¿() {
        g.drawLine(60, 100, 45, 150);
    }

    @Override
    public void å»ºé€ å³è…¿() {
        g.drawLine(70, 100, 85, 150);
    }
}
```

`äººæŒ‡æŒ¥è€…` ç±»ï¼š

```java
public class äººæŒ‡æŒ¥è€… {

    private å»ºé€ è€… pb;

    public äººæŒ‡æŒ¥è€…(å»ºé€ è€… pb) {
        this.pb = pb;
    }

    public void åˆ›å»ºäºº() {
        pb.å»ºé€ å¤´();
        pb.å»ºé€ èº«ä½“();
        pb.å»ºé€ å·¦æ‰‹();
        pb.å»ºé€ å³æ‰‹();
        pb.å»ºé€ å·¦è…¿();
        pb.å»ºé€ å³è…¿();
    }
}
```

`ç”»ç¬”` ç±»ï¼š

```java
import java.awt.*;

public class ç”»ç¬” {
    private int çº¿å®½;
    private Color é¢œè‰²;

    public ç”»ç¬”(int çº¿å®½, Color é¢œè‰²) {
        this.çº¿å®½ = çº¿å®½;
        this.é¢œè‰² = é¢œè‰²;
    }

    public int getLineå®½åº¦(){
        return çº¿å®½;
    }

    public Color geté¢œè‰²(){
        return é¢œè‰²;
    }
}
```

`å»ºé€ è€…ä¸»ç±»` æ–¹æ³•ï¼š

```java
import javax.swing.*;
import java.awt.*;

public class å»ºé€ è€…ä¸»ç±» {
    public static void main(String[] args) {
        JFrame jFrame = new JFrame();

        JPanel jpanel = new JPanel() {
            @Override
            public void paint(Graphics graphics) {
                super.paint(graphics);
                å»ºé€ è€… ptb = new ç˜¦äººå»ºé€ è€…((Graphics2D) graphics, new ç”»ç¬”(2, Color.BLUE));
                äººæŒ‡æŒ¥è€… pd = new äººæŒ‡æŒ¥è€…(ptb);
                pd.åˆ›å»ºäºº();
                å»ºé€ è€… pfb = new èƒ–äººå»ºé€ è€…((Graphics2D) graphics, new ç”»ç¬”(3, Color.YELLOW));
                pd = new äººæŒ‡æŒ¥è€…(pfb);
                pd.åˆ›å»ºäºº();
            }
        };

        jFrame.add(jpanel);
        jFrame.setSize(300, 300);
        jFrame.setVisible(true);
        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }
}
```

æ‰§è¡Œç»“æœï¼š

![Java codeè¾“å‡º](img/builder/JavaCodeOutPut.png)

### ç»“æ„ç»„æˆ

![å»ºé€ è€…æ¨¡å¼UML](img/builder/BuilderUML.png)

- Directorï¼šæŒ‡æŒ¥è€…ï¼Œæ ¹æ®ç”¨æˆ·éœ€æ±‚æ„å»ºå°äººå¯¹è±¡ï¼›
- Builderï¼šæ„é€ å°äººå„ä¸ªéƒ¨åˆ†çš„æŠ½è±¡ç±»ï¼›
- ConcreteBuilderï¼šå…·ä½“çš„å°äººï¼Œå…·ä½“å®ç°å¦‚ä½•ç”»å‡ºå°äººçš„å¤´èº«æ‰‹è„šå„ä¸ªéƒ¨åˆ†ï¼›
- Productï¼šå…·ä½“çš„äº§å“å°äººã€‚

## æ¨¡å¼è¯„ä»·

### é€‚ç”¨åœºæ™¯

- åˆ›å»ºä¸€äº›å¤æ‚çš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡å†…éƒ¨æ„å»ºé—´çš„å»ºé€ é¡ºåºé€šå¸¸æ˜¯ç¨³å®šçš„ï¼Œä½†å¯¹è±¡å†…éƒ¨çš„æ„å»ºé€šå¸¸é¢ä¸´ç€å¤æ‚çš„å˜åŒ–ï¼›
- ä¸€äº›åŸºç¡€éƒ¨ä»¶ä¸å˜ï¼Œè€Œå…¶ç»„åˆç»å¸¸å˜åŒ–ã€‚

### å®é™…åº”ç”¨

- JAVA ä¸­çš„ StringBuilder
- å»è‚¯å¾·åŸºï¼Œæ±‰å ¡ã€å¯ä¹ã€è–¯æ¡ã€ç‚¸é¸¡ç¿…ç­‰æ˜¯ä¸å˜çš„ï¼Œè€Œå…¶ç»„åˆæ˜¯ç»å¸¸å˜åŒ–çš„ï¼Œç”Ÿæˆå‡ºæ‰€è°“çš„"å¥—é¤"ï¼›

### ä¼˜ç‚¹ç¼ºç‚¹

ä¼˜ç‚¹ï¼š

- ä½¿å¾—å»ºé€ ä»£ç ä¸è¡¨ç¤ºä»£ç åˆ†ç¦»ï¼Œæ˜“æ‰©å±•
- ä¾¿äºæ§åˆ¶ç»†èŠ‚é£é™©

ç¼ºç‚¹ï¼š

- äº§å“å¿…é¡»æœ‰å…±åŒç‚¹ï¼ŒèŒƒå›´æœ‰é™åˆ¶
- å¦‚å†…éƒ¨å˜åŒ–å¤æ‚ï¼Œä¼šæœ‰å¾ˆå¤šçš„å»ºé€ ç±»
</AppTab>
<AppTab label="ğŸ’¡ è§£è¯»">


æƒ³è±¡ä½ è¦ç»„è£…ä¸€å°ç”µè„‘ï¼š

1. **ç¨³å®šçš„æ„å»ºè¿‡ç¨‹**ï¼šæ— è®ºä»€ä¹ˆé…ç½®ï¼Œç»„è£…æ­¥éª¤éƒ½æ˜¯å›ºå®šçš„ï¼ˆé€‰ CPUâ†’ é€‰ä¸»æ¿ â†’ é€‰å†…å­˜ â†’ é€‰ç¡¬ç›˜ â†’ è£…æœºç®±ï¼‰
2. **å˜åŒ–çš„ç»†èŠ‚**ï¼šä¸åŒé…ç½®çš„å…·ä½“é›¶ä»¶ä¸åŒï¼ˆi7 è¿˜æ˜¯ i9 å¤„ç†å™¨ï¼Œ16G è¿˜æ˜¯ 32G å†…å­˜ï¼‰

å»ºé€ è€…æ¨¡å¼å°±æ˜¯æŠŠ"ç»„è£…æ­¥éª¤"å’Œ"å…·ä½“é›¶ä»¶é€‰æ‹©"åˆ†ç¦»çš„è®¾è®¡æ–¹æ³•ã€‚

### æŠ€æœ¯æœ¬è´¨ï¼ˆæ¶æ„å¸ˆè§†è§’ï¼‰

1. **æ„å»ºä¸è¡¨ç°åˆ†ç¦»**ï¼š

   - æ„å»ºè¿‡ç¨‹ï¼ˆæŒ‡æŒ¥è€…ï¼‰ï¼šå›ºå®šæµç¨‹ï¼ˆå…ˆå¤´åèº«ä½“ï¼‰
   - å…·ä½“å®ç°ï¼ˆå»ºé€ è€…ï¼‰ï¼šä¸åŒå®ç°ï¼ˆèƒ–/ç˜¦äººçš„åæ ‡ï¼‰

2. **ä¸å·¥å‚æ¨¡å¼å¯¹æ¯”**ï¼š
   - å·¥å‚æ¨¡å¼ï¼šç›´æ¥ç”Ÿäº§å®Œæ•´å¯¹è±¡ï¼ˆç»™ä½ ä¸€å°ç°æˆç”µè„‘ï¼‰
   - å»ºé€ è€…æ¨¡å¼ï¼šåˆ†æ­¥ç»„è£…å¯¹è±¡ï¼ˆè®©ä½ è‡ªå®šä¹‰æ¯ä¸ªéƒ¨ä»¶ï¼‰

### å®é™…å¼€å‘æ¡ˆä¾‹ï¼ˆStringBuilderï¼‰

```java
// è¿™å°±æ˜¯å»ºé€ è€…æ¨¡å¼çš„å…¸å‹åº”ç”¨
StringBuilder builder = new StringBuilder();
builder.append("å¤´");  // å»ºé€ å¤´éƒ¨
builder.append("èº«ä½“"); // å»ºé€ èº«ä½“
String å°äºº = builder.toString(); // æœ€ç»ˆç»„è£…
```

### æ¶æ„è®¾è®¡ä»·å€¼

1. **è§£è€¦**ï¼šå°†å¯¹è±¡æ„é€ ç®—æ³•ï¼ˆæŒ‡æŒ¥è€…ï¼‰ä¸éƒ¨ä»¶å®ç°ï¼ˆå»ºé€ è€…ï¼‰è§£è€¦
2. **ç²¾ç»†æ§åˆ¶**ï¼šå¯ä»¥åˆ†æ­¥æ§åˆ¶æ„é€ è¿‡ç¨‹ï¼ˆæ¯”å¦‚å…ˆæ ¡éªŒéƒ¨ä»¶å†ç»„è£…ï¼‰
3. **æ‰©å±•æ€§**ï¼šæ–°å¢äº§å“ç±»å‹åªéœ€æ–°å¢å»ºé€ è€…ç±»ï¼ˆå¦‚æ–°å¢"é«˜ä¸ªå­å»ºé€ è€…"ï¼‰

### é«˜çº§åº”ç”¨åœºæ™¯

1. **å¤æ‚å¯¹è±¡æ„é€ **ï¼šå¦‚ XML æ–‡æ¡£ç”Ÿæˆå™¨
2. **å¤šå½¢æ€å¯¹è±¡**ï¼šæ¸¸æˆä¸­çš„è§’è‰²åˆ›å»ºç³»ç»Ÿ
3. **å‚æ•°è¿‡å¤šæ„é€ **ï¼šæ›¿ä»£ä¼¸ç¼©æ„é€ å‡½æ•°æ¨¡å¼ï¼ˆtelescoping constructorï¼‰

### è€ƒè¯•æ³¨æ„è¦ç‚¹

1. **UML å›¾è®°å¿†è¦ç‚¹**ï¼š

   - æŒ‡æŒ¥è€…ä¾èµ–æŠ½è±¡å»ºé€ è€…
   - å…·ä½“å»ºé€ è€…ç»§æ‰¿æŠ½è±¡å»ºé€ è€…
   - äº§å“ç±»ç‹¬ç«‹å­˜åœ¨

2. **ä¸æŠ½è±¡å·¥å‚çš„åŒºåˆ«**ï¼š
   | ç»´åº¦ | å»ºé€ è€…æ¨¡å¼ | æŠ½è±¡å·¥å‚æ¨¡å¼ |
   |------------|----------------------|--------------------|
   | ç›®çš„ | åˆ†æ­¥æ„é€ å¤æ‚å¯¹è±¡ | åˆ›å»ºäº§å“æ— |
   | é‡ç‚¹ | æ„é€ è¿‡ç¨‹æ§åˆ¶ | äº§å“ç±»å‹æ‰©å±• |
   | äº§å“å¤æ‚åº¦ | é€šå¸¸æ„é€ å¤æ‚å•ä¸ªå¯¹è±¡ | åˆ›å»ºå¤šä¸ªç›¸å…³å¯¹è±¡ |

3. **å…¸å‹è€ƒé¢˜é™·é˜±**ï¼š
   - å½“é¢˜ç›®å‡ºç°"åˆ†æ­¥éª¤æ„å»º"ã€"ç›¸åŒè¿‡ç¨‹ä¸åŒè¡¨ç°"æ—¶ä¼˜å…ˆè€ƒè™‘å»ºé€ è€…æ¨¡å¼
   - æ³¨æ„ä¸æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åŒºåˆ«ï¼ˆåè€…æ˜¯ç®—æ³•æ­¥éª¤æŠ½è±¡ï¼Œå‰è€…æ˜¯å¯¹è±¡æ„é€ æŠ½è±¡ï¼‰

### ä»£ç ç¤ºä¾‹ä¼˜åŒ–ï¼ˆæ¶æ„å¸ˆé£æ ¼ï¼‰

```java
// æ›´ç¬¦åˆä¼ä¸šçº§å®ç°çš„å†™æ³•
public interface PersonBuilder {
    void buildHead();
    void buildBody();
    Person getResult(); // æ˜ç¡®è¿”å›äº§å“å¯¹è±¡
}

public class Director {
    public Person construct(PersonBuilder builder) {
        builder.buildHead();
        builder.buildBody();
        return builder.getResult(); // è¿”å›å®Œæ•´äº§å“
    }
}
```

å»ºè®®åœ¨å¤ä¹ æ—¶é‡ç‚¹ç†è§£ï¼š

1. æ„å»ºè¿‡ç¨‹ä¸äº§å“è¡¨ç¤ºçš„åˆ†ç¦»æ€æƒ³
2. ä¸å·¥å‚æ¨¡å¼ã€åŸå‹æ¨¡å¼ç­‰å…¶ä»–åˆ›å»ºå‹æ¨¡å¼çš„å¯¹æ¯”
3. åœ¨å¤æ‚å¯¹è±¡æ„é€ åœºæ™¯ä¸‹çš„ä¼˜åŠ¿ä½“ç°
</AppTab>
</AppTabs>